START:
MVI B,00H ;WE KEEP TEMPORARILY THE RESULT OF THE GATE
LDA 2000H ;LOADING THE INPUT FROM REGISTER A
STC
CMC ;CY=0
MVI C,00H ;INITIALIZE THE REGISTERS WE ARE GOING TO USE 
MVI D,00H
MVI E,00H
MVI H,00H
RAR ;CHECK 1ST SWITCH
JC 1ST_OR_FROM_1ST_BIT
RAR ;CHECK 2ND SWITCH
JC 1ST_OR_1
JNC 1ST_OR_RESULT

1ST_OR_FROM_1ST_BIT: ;SINCE WE FOUND A 1 IN THE 1ST BIT
RAR ; WE NEED ONE MORE RIGHT ROTATION(SKIP 2ND SWITCH) 

1ST_OR_1: ;IF OR=1
INR B ; B = B + 1

1ST_OR_RESULT: 
MOV C,B ; STORE RESULT IN C
MVI B,00H ;INITIALIZE B FOR NEXT GATE
RAR ;CHECK 3RD SWITCH 
JNC 1ST_AND_0_FROM_1ST_BIT ;IF 0 -> AND = 0 
RAR ; CHECK 4TH SWITCH
JNC 1ST_AND_RESULT ;IF 0 -> AND = 0
INR B ; ELSE AND = 1 ,DO B = B + 1
JC 1ST_AND_RESULT ; CY = 1 IF AND = 1 (B1 = A1 = 1)

1ST_AND_0_FROM_1ST_BIT: 
RAR ; SKIP 4TH SWITCH 

1ST_AND_RESULT:
MOV D,B ; STORE RESULT IN D
MVI B,00H ; INITIALIZE B
RAR ;CHECK 5TH SWITCH
JC 2ND_OR_FROM_1ST_BIT ;IF CY = 1 -> OR = 1
RAR ;CHECK 6TH SWITCH 
JC 2ND_OR_1 ; IF CY = 1 -> OR = 1
JNC 2ND_OR_RESULT 

2ND_OR_FROM_1ST_BIT:
RAR ; SKIP 6TH SWITCH 

2ND_OR_1: ; IF OR = 1
INR B ; B = B + 1

2ND_OR_RESULT:
MOV E,B ; STORE RESULT IN E
MVI B,00H ; INITIALIZE B FOR NEXT GATE 
RAR ; CHECK 7TH SWITCH 
JNC 2ND_AND_0_FROM_1ST_BIT ; IF CY = 0 -> AND2 = 0
RAR ;CHECK 8TH AND LAST SWITCH
JNC 2ND_AND_RESULT ; IF CY = 0 -> AND2 = 0
INR B ; ELSE AND = 1 , DO B = B + 1
JC 2ND_AND_RESULT ;RESULT OF AND2 = 1

2ND_AND_0_FROM_1ST_BIT:
RAR ; SKIP 8TH SWITCH 

2ND_AND_RESULT:
MOV H,B ; STORE RESULT OF AND2 IN H;
MOV B,A ; STORE A IN B TEMPORARILY 
MOV A,H ; TAKE THE RESULT OF AND 2 
CMP E ; AND COMPARE IT WITH THE RESULT OF E 
JZ XOR_0 ; IF THEY ARE THE SAME XOR = 0
MVI H,01H ; H = 1
JNZ XOR_1 ; XOR = 1

XOR_0:
MVI H,00H ; H = 0

XOR_1:
CMC ;CY=0
MVI A,00H ;A = 00000000
ADD H ; A = 0000000V WHERE X = OR1
RAL 
ADD E ; A = 000000VZ WHERE Y = AND1 
RAL 
ADD D ; A = X0000VZY WHERE Z = OR2
RAL 
ADD C ; A = 0000VZYX WHERE V = XOR 
CMA 
STA 3000H ; LEDS ON
JMP START
END 





























